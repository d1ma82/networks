Пример работы многопоточного приложения с общим доступом к файлу.
За основы сихронизации потоков взяты Мьютексы

Тестировалось на Linux.

Сборка под Linux
    запуск build.sh

В папке bin будут скомпилированые программы